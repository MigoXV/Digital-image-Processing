# 4.7 图像的伪彩色处理

## 4.7.1 密度分割

密度分割是伪彩色处理技术中最简单的一种。设一幅灰度图像 $f(x, y)$, 在某一个灰度级 (如 $\left.f(x, y)=L_1\right)$ 上设置一个平行于 $x y$ 平面的切割平面, 如图4-35所示。灰度图像被切割成只有两个灰度级, 对切割平面以下的 (灰度级小于 $L_1$ ) 像素分配给一种颜色 (如蓝色), 对切割平面以上的像素分配给另一种颜色 (如红色)。这样切割结果就可以将灰度图像变为只有两个颜色的伪彩色图像。

若将灰度图像级用 $M$ 个切割平面去切割。就会得到 $M+1$ 个不同灰度级的区域 $S_1, S_2, \ldots, S_{M}, S_{M+1}$ 。对这 $M+1$ 个区域中的像素人为分配给 $M+1$ 种不同颜色, 就可以得到具有 $M+1$ 种颜色的伪彩色图像, 如图4-36所示。密度分割伪彩色处理的优点是简单易行, 便于用软件或硬件实现。还可以扩大它的用途, 如计算图像中某灰度级面积等。

<img src="https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20230317110351336.png" alt="image-20230317110351336" style="zoom:50%;" />

图4-35 密度分割示意图

<img src="https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20230317110407463.png" alt="image-20230317110407463" style="zoom:50%;" />

图4-36 多灰度伪彩色分割示意图

## 4.7.2 灰度级彩色变换 

这种伪彩色处理技术(在遥感技术中常称为假彩色合成方法)，可以将灰度图像变为具有多种颜色渐变的连续彩色图像， 实际图像的连续伪彩色变换如图4-37所示。其变换过程为：将灰度图像送入具有不同变换特性的红、绿、蓝3个变换器，再将3 个变换器的不同输出分别送到彩色显像管的红、绿、蓝电子枪。 同一灰度由3个变换器对其实施不同变换， 而使3个变换器输出不同，从而在彩色显像管里合成某种色彩。可见，不同大小灰度级一定可以合成不同色彩。

![image-20230317110436524](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20230317110436524.png)

图4-37 伪彩色变换

从图中可见, 若 $f(x, y)=0$, 则 $I_B(x, y)=L, I_R(x, y)=I_{G}(x, y)=0$, 从而显示蓝色。同样, 若 $f(x, y)=L / 2$, 则 $I_G(x, y)=L, I_R(x, y)=I_G(x$, $y)=0$, 从而显示绿色。若 $f(x, y)=L$, 则 $I_R(x, y)=L, I_B(x, y)=I_G(x$, $y)=0$, 从而显示红色。
因此不难理解, 若灰度图像 $f(x, y)$ 灰度级在 $0 \sim L$ 之间变化, $I_R 、 I_B 、 I_G$ 会有不同输出, 从而合成不同的彩色图像。

## 4.7.3

这是一种在频率域进行伪彩色处理的技术，与上面不同的是输出图像的伪彩色与图像的灰度级无关， 而是取决于图像中不同空间频率域成分。如, 为了突出图像中高频成分(图像细节)将其变为红色，只要将红色通道滤波器设计成高通特性即可。而且可以结合其他处理方法，在附加处理中实施(如直方图修正等)，使其彩色对比度更强。如果要抑制图像中某种频率成分，可以设计一个带阻滤波器。其过程如图4-38所示，从3个不同频率的滤波器输出的信号再经过傅立叶反变换，可以对其做进一步的处理，如直方图均衡化。最后把它们作为三基色分别加到彩色显像管的红、绿、蓝显示通道，从而实现频率域的伪彩色处理。

<img src="https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20230425192923253.png" alt="image-20230425192923253" style="zoom:50%;" />

图4-38 频率域伪彩色增强处理 